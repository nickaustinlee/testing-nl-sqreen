'use strict';
const Backend = require('./backend');

module.exports = class Signal {

    constructor(type, signalName, source, time) {

        this.type = type;
        this.signal_name = signalName;
        this.actor = undefined;
        this.location_infra = undefined;
        this.location = undefined;
        this.source = source;
        this.trigger = undefined;
        this.payload_schema = undefined;
        this.payload = undefined;
        this.context_schema = undefined;
        this.context = undefined;
        this.time = time || new Date();
    }

    report() {

        return Backend.reportBatch([this]);
    }

    batch() {

        this.BATCH.add(this);
    }
};
